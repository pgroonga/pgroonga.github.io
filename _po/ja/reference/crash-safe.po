# SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
# 
# Translators:
# Kouhei Sutou <kou@cozmixng.org>, 2023
# 
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-04-24 12:18+0900\n"
"PO-Revision-Date: 2023-08-13 00:16+0000\n"
"Last-Translator: Kouhei Sutou <kou@cozmixng.org>, 2023\n"
"Language-Team: Japanese (https://app.transifex.com/groonga/teams/174082/ja/)\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: ja\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: ../../../reference/crash-safe.md:1
msgid ""
"---\n"
"title: Crash safe\n"
"---"
msgstr ""
"---\n"
"title: クラッシュセーフ\n"
"---"

#: ../../../reference/crash-safe.md:5
msgid "# Crash safe"
msgstr "# クラッシュセーフ"

#: ../../../reference/crash-safe.md:7
msgid "PGroonga supports crash safe feature since 2.3.3."
msgstr "PGroongaは2.3.3からクラッシュセーフ機能に対応しています。"

#: ../../../reference/crash-safe.md:9
msgid ""
"This is still an experimental feature. If you find a problem, please report "
"it to [PGroonga Issues][pgroonga-issues]."
msgstr "この機能はまだ実験的です。もし問題を見つけたら [PGroonga Issues][pgroonga-issues] に報告してください。"

#: ../../../reference/crash-safe.md:11
msgid "This document describes the followings:"
msgstr "このドキュメントは次のことを説明します。"

#: ../../../reference/crash-safe.md:13
msgid "  * How to configure crash safe feature for PGroonga"
msgstr "  * PGroonga用のクラッシュセーフ機能の設定方法"

#: ../../../reference/crash-safe.md:15
msgid "  * How crash safe feature for PGroonga works"
msgstr "  * PGroonga用のクラッシュセーフ機能はどう動くか"

#: ../../../reference/crash-safe.md:17
msgid "## Summary"
msgstr "## 概要"

#: ../../../reference/crash-safe.md:19
msgid ""
"Crash safe feature for PGroonga is based on Groonga's crash safe feature. It"
" doesn't use PostgreSQL's crash safe feature based on PostgreSQL's WAL."
msgstr ""
"PGroonga用のクラッシュセーフ機能はGroongaのクラッシュセーフ機能を使っています。PostgreSQLのWALを使ったPostgreSQLのクラッシュセーフ機能は使っていません。"

#: ../../../reference/crash-safe.md:21
msgid "Pros:"
msgstr "メリット："

#: ../../../reference/crash-safe.md:23
msgid ""
"  * PGroonga's indexes are recovered automatically when a PostgreSQL process"
" is crashed"
msgstr "  * PostgreSQLのプロセスがクラッシュしたとき、PGroongaのインデックスが自動で復旧する"

#: ../../../reference/crash-safe.md:25
msgid ""
"    * You don't need to execute [`REINDEX`][postgresql-reindex] manually"
msgstr "    * 手動で[`REINDEX`][postgresql-reindex]を実行する必要はない"

#: ../../../reference/crash-safe.md:27
msgid "Cons:"
msgstr "欠点："

#: ../../../reference/crash-safe.md:29
msgid "  * Write performance penalty"
msgstr "  * 書き込み性能が悪化する"

#: ../../../reference/crash-safe.md:31
msgid "## How to configure crash safe feature"
msgstr "## クラッシュセーフ機能の設定方法"

#: ../../../reference/crash-safe.md:33
msgid "This section describes how to configure crash safe feature."
msgstr "このセクションではクラッシュセーフ機能の設定方法を説明します。"

#: ../../../reference/crash-safe.md:35
msgid "You must specify the following parameters in `postgresql.conf`:"
msgstr "`postgresql.conf`で次のパラメーターを指定しなければいけません。"

#: ../../../reference/crash-safe.md:37
msgid ""
"```text\n"
"shared_preload_libraries = 'pgroonga_crash_safer'\n"
"pgroonga.enable_crash_safe = on\n"
"```"
msgstr ""

#: ../../../reference/crash-safe.md:42
msgid ""
"[`pgroonga_crash_safer` module][pgroonga-crash-safer] uses worker processes."
" You may need to increase [`max_worker_processes` parameter][postgresql-max-"
"worker-processes] value. See [`pgroonga_crash_safer` module][pgroonga-crash-"
"safer] for details."
msgstr ""
"[`pgroonga_crash_safer`モジュール][pgroonga-crash-"
"safer]はワーカープロセスを使います。[`max_worker_processes`パラメーター][postgresql-max-worker-"
"processes]の値を増やさないといけないかもしれません。詳細は[`pgroonga_crash_safer`モジュール][pgroonga-"
"crash-safer]を参照してください。"

#: ../../../reference/crash-safe.md:44
msgid "## How crash safe feature works"
msgstr "## クラッシュセーフ機能はどう動くか"

#: ../../../reference/crash-safe.md:46
msgid "This section describes how crash safe feature works."
msgstr "このセクションではクラッシュセーフ機能はどう動くかを説明します。"

#: ../../../reference/crash-safe.md:48
msgid ""
"PGroonga's crash safe feature is based on Groonga's crash safe feature."
msgstr "PGroongaのクラッシュセーフ機能はGroongaのクラッシュセーフ機能を使っています。"

#: ../../../reference/crash-safe.md:50
msgid ""
"Groonga's crash safe feature requires one process that opens Groonga's "
"database before other processes and closes Groonga' database after other "
"processes. The process is called as \"primary process\". Primary process "
"must flush changes in memory to storage periodically."
msgstr ""
"Groongaのクラッシュセーフ機能は、他のすべてのプロセスがGroongaのデータベースを開く前にデータベースを開き、他のすべてのプロセスがGroongaのデータベースを閉じた後にデータベースを閉じるプロセスが必要です。このプロセスを「プライマリープロセス」と呼びます。プライマリープロセスはメモリー上にある変更を定期的にストレージにフラッシュします。"

#: ../../../reference/crash-safe.md:52
msgid ""
"[`pgroonga_crash_safer` module][pgroonga-crash-safer] runs one primary "
"process per PostgreSQL's database. If an connection uses any PGroonga's "
"feature, the process for the connection asks [`pgroonga_crash_safer` "
"module][pgroonga-crash-safer] to run a primary process for the PostgreSQL's "
"database and waits for opening Groonga's database by the primary process."
msgstr ""
"[`pgroonga_crash_safer`モジュール][pgroonga-crash-"
"safer]はPostgreSQLのデータベースごとにプライマリープロセスを起動します。PGroongaの機能を使う接続が現れると、この接続用のプロセスは[`pgroonga_crash_safer`モジュール][pgroonga-"
"crash-"
"safer]に対象のPostgreSQLのデータベース用にプライマリープロセスを起動するように依頼します。その後、プライマリープロセスがGroongaのデータベースを開くまで待ちます。"

#: ../../../reference/crash-safe.md:54
msgid ""
"A process for an connection uses any PGroonga's feature is called as "
"\"secondary process\". The number of primary processes must be one but the "
"number of secondary processes can be zero or more."
msgstr ""
"PGroongaの機能を使う接続用のプロセスを「セカンダリープロセス」と呼びます。プライマリープロセスは1つだけですが、セカンダリープロセスは0個以上存在できます。"

#: ../../../reference/crash-safe.md:56
msgid ""
"A secondary process writes Groonga's WAL (not PostgreSQL's WAL) when "
"PGroonga's indexes are updated. It ensure flushing WAL to storage. This "
"causes write performance penalty."
msgstr ""
"セカンダリープロセスはPGroongaのインデックスが更新されるごとに（PostgreSQLのWALではなく）GroongaのWALを書き出します。メモリー上のWALの内容は確実にストレージにフラッシュします。ここで書き込み性能が落ちます。"

#: ../../../reference/crash-safe.md:58
msgid ""
"A primary process flushes all changes in memory to storage and remove all "
"Groonga's WAL files on shutdown. It means that no WAL file is expected state"
" for normal shutdown. If there are any WAL files on startup, a primary "
"process recovers the database automatically. A primary process tries "
"recovering from Groonga's WAL. If it's failed, a primary process removes all"
" existing Groonga's database, creates a new Groonga's database and executes "
"[`REINDEX`][postgresql-reindex]. It rebuild all PGroonga's indexes from data"
" in PostgreSQL."
msgstr ""
"プライマリープロセスはシャットダウン時にメモリー上のすべての変更をストレージに書き出してGroongaのすべてのWALファイルを削除します。つまり、正常にシャットダウンしたときはGroongaのWALファイルは存在しません。スタートアップ時にWALファイルがあった場合はプライマリープロセスは対象データベースを自動で復旧します。プライマリープロセスはGroongaのWALからの復旧を試みます。これが失敗すると既存のGroongaのデータベースを削除し、新しくGroongaのデータベースを作ります。その後、[`REINDEX`][postgresql-"
"reindex]を実行します。これによりPostgreSQL内のデータからPGroongaのインデックスを再構築します。"

#: ../../../reference/crash-safe.md:60
msgid ""
"Groonga's WAL files are moved when periodical flush by primary process. So "
"Groonga's WAL size isn't increased forever. You can configure flush interval"
" by [`pgroonga_crash_safer.flush_naptime` parameter][pgroonga-crash-safer-"
"flush-naptime]."
msgstr ""
"プライマリープロセスが定期的にフラッシュするときにGroongaのWALファイルは削除されます。そのため、GroongaのWALのサイズが永遠に増え続けるということはありません。フラッシュする間隔は[`pgroonga_crash_safer.flush_naptime`パラメーター][pgroonga-"
"crash-safer-flush-naptime]で設定できます。"

#: ../../../reference/crash-safe.md:63
msgid ""
"[postgresql-reindex]:{{ site.postgresql_doc_base_url.en }}/sql-reindex.html"
msgstr ""
"[postgresql-reindex]:{{ site.postgresql_doc_base_url.ja }}/sql-reindex.html"

#: ../../../reference/crash-safe.md:65
msgid "[pgroonga-crash-safer]:modules/pgroonga-crash-safer.html"
msgstr ""

#: ../../../reference/crash-safe.md:67
msgid ""
"[postgresql-max-worker-processes]:{{ site.postgresql_doc_base_url.en "
"}}/runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES"
msgstr ""
"[postgresql-max-worker-processes]:{{ site.postgresql_doc_base_url.ja "
"}}/runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES"

#: ../../../reference/crash-safe.md:69
msgid ""
"[pgroonga-crash-safer-flush-naptime]:parameters/pgroonga-crash-safer-flush-"
"naptime.html"
msgstr ""

#: ../../../reference/crash-safe.md:71
msgid "[pgroonga-issues]:https://github.com/pgroonga/pgroonga/issues"
msgstr ""
